{% extends 'base.html' %}
{% load static %}
<!-- Title -->
{% block title %}Patient Details{% endblock %}

<!-- Visit Details -->
{% block content %}
  <main class="main-content">
    <section class="patient-info">
        <!-- Edit Button -->
        <a href="{% url 'edit-visit' visit.pk %}" class="edit-button-wrapper">
            <button class="edit-button">Edit</button>
        </a>
        <!-- Delete Button -->
        <div class="delete-button-wrapper">
              <a href="{% url 'delete-visit' object.pk %}">
                <button class="delete-button">Delete</button>
              </a>   
          </div>
      <!-- Visit Info -->  
      <div class="info-header">
        <h2>{{ visit.patient.full_name }} - {{ visit.date }}</h2>
      </div>
      <!-- Visit Fields -->  
      <ul>
        <li><strong>Date:</strong> {{ visit.date }}</li>
        <li><strong>Patient Name:</strong> {{ visit.patient.full_name }}</li>
        <li><strong>Procedure/s:</strong> {{ visit.get_procedures }}</li>  
        <li>
            <strong>Additional Info:</strong> 
            {% if visit.additional_info %}
                {{ visit.additional_info }}
            {% else %}
                No additional info
            {% endif %}
        </li>
      <!-- Image if uploaded -->
        <li>
            <strong>Image:</strong> 
            {% if visit.image %}
                <img src="{{ visit.image.url }}" alt="Visit Image" style="max-width: 500px; max-height: 400px; width: auto; height: auto; display: block;">
            {% else %}    
                No uploaded images
            {% endif %}
        </li>  
      </ul>
    </section>
  </main>
{% endblock %}